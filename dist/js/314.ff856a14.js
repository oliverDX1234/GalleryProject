"use strict";(self["webpackChunkgallery_project"]=self["webpackChunkgallery_project"]||[]).push([[314],{9903:function(e,t,l){l.d(t,{Z:function(){return M}});var s=l(3396);const i={class:"relative"},o=["src"];function a(e,t,l,a,n,r){const u=(0,s.up)("modal"),d=(0,s.up)("delete-modal");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("img",{onClick:t[0]||(t[0]=(...e)=>r.showDetailedPage&&r.showDetailedPage(...e)),class:"pointer",src:l.photo.url,alt:""},null,8,o),"gallery"===e.$route.name&&n.visible?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"add-to-album",onClick:t[1]||(t[1]=(...e)=>r.showModal&&r.showModal(...e))},"ADD TO ALBUM")):(0,s.kq)("",!0),"gallery"!==e.$route.name&&n.visible?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"add-to-album",onClick:t[2]||(t[2]=(...e)=>r.showModal&&r.showModal(...e))},"DELETE ITEM")):(0,s.kq)("",!0),"gallery"===e.$route.name?((0,s.wg)(),(0,s.j4)(u,{key:2,onClose:t[3]||(t[3]=e=>n.modalIsVisible=!1),visible:n.modalIsVisible,item:l.photo},null,8,["visible","item"])):(0,s.kq)("",!0),"gallery"!==e.$route.name?((0,s.wg)(),(0,s.j4)(d,{key:3,onClose:t[4]||(t[4]=e=>n.modalIsVisible=!1),visible:n.modalIsVisible,item:l.photo},null,8,["visible","item"])):(0,s.kq)("",!0)])}var n=l(65),r=l(1173),u=l(7139);const d={key:0,class:"modal"},m={class:"modal-content"},c=(0,s._)("div",{class:"modal-body flex justify-content-center"},[(0,s._)("h2",null,"Are you sure you want to delete this item?")],-1),h={key:0,class:"validation mt-5"},b={class:"mt-5"},v={class:"flex justify-content-center"},p={class:"mt-5"};function w(e,t,l,i,o,a){return(0,s.wg)(),(0,s.iD)("div",null,[l.visible?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",m,[c,o.errorMsg?((0,s.wg)(),(0,s.iD)("div",h,(0,u.zw)(o.errorMsg),1)):(0,s.kq)("",!0),(0,s._)("div",b,[(0,s._)("div",v,[(0,s._)("div",p,[(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"button-line min-width-150"},"CANCEL"),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>a.deleteItem&&a.deleteItem(...e)),class:"ml-5 min-width-150"},"DELETE")])])])])])):(0,s.kq)("",!0)])}var g={name:"DeleteModalPage",props:{visible:{default:!1},item:{}},data(){return{errorMsg:null}},methods:{...(0,n.nv)("gallery",{addNewAlbum:"addNewAlbum",addInAlbum:"addInAlbum",deleteItemAction:"deleteItem"}),...(0,n.nv)({show:"show"}),newTab(e){this.activeTab=e},deleteItem(){try{this.deleteItemAction({item:this.item,in:this.$route.params.id}),this.show()}catch(e){this.errorMsg=e.message}this.$emit("close")}}},y=l(89);const f=(0,y.Z)(g,[["render",w]]);var k=f,_={name:"LayoutItem",components:{Modal:r.Z,DeleteModal:k},data(){return{visible:!1,modalIsVisible:!1}},props:{photo:{type:Object,required:!0},index:{type:Number,required:!1}},methods:{...(0,n.nv)("gallery",{setNewItem:"setNewItem"}),showDetailedPage(){this.setNewItem({...this.photo,upload_date:new Date,id:this.index}),this.$router.push("/details-page/"+this.index)},showModal(){this.modalIsVisible=!0}}};const D=(0,y.Z)(_,[["render",a]]);var M=D},8314:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var s=l(3396),i=l(7139);const o={class:"page-container"},a={class:"page-section"},n={class:"mt-5 photo-description"},r={class:"mt-2"},u={class:"mt-2 grey"},d={class:"mt-5 layout-list-photos"},m={class:"mt-5"};function c(e,t,l,c,h,b){const v=(0,s.up)("layout-item");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",o,[(0,s._)("div",a,[(0,s._)("div",n,[(0,s._)("h2",r,(0,i.zw)(h.album.name),1),(0,s._)("h5",u,"Date created: "+(0,i.zw)(b.formatDate),1)]),(0,s._)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.album.items,((e,t)=>((0,s.wg)(),(0,s.j4)(v,{onMouseenter:e=>b.mouseEntered(t),onMouseleave:e=>b.mouseLeave(t),key:e.id,ref_for:!0,ref:"item-"+t,photo:e},null,8,["onMouseenter","onMouseleave","photo"])))),128))]),(0,s._)("div",m,[(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/gallery")),class:"button-line"},"GO BACK")])])])])}var h=l(65),b=l(6797),v=l.n(b),p=l(9903),w={name:"AlbumPage",components:{LayoutItem:p.Z},computed:{...(0,h.Se)("gallery",{allAlbums:"allAlbums"}),formatDate(){return v()(this.album.upload_date).format("Do MMM YYYY")}},data(){return{album:{id:null,author:null,url:null,upload_date:null,item:[],isVisible:!1}}},watch:{$route(){this.album=this.allAlbums.find((e=>e.id===Number(this.$route.params.id)))}},methods:{mouseEntered(e){this.$refs["item-"+e][0].visible=!0},mouseLeave(e){this.$refs["item-"+e][0].visible=!1}},mounted(){this.album=this.allAlbums.find((e=>e.id===Number(this.$route.params.id)))}},g=l(89);const y=(0,g.Z)(w,[["render",c]]);var f=y}}]);
//# sourceMappingURL=314.ff856a14.js.map