{"version":3,"file":"js/721.013f3d62.js","mappings":"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","sources":["webpack://gallery-project/./node_modules/core-js/modules/es.array.at.js","webpack://gallery-project/./node_modules/core-js/modules/es.string.at-alternative.js","webpack://gallery-project/./src/views/DetailsPage.vue","webpack://gallery-project/./src/views/DetailsPage.vue?7787"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar charAt = uncurryThis(''.charAt);\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es-x/no-array-string-prototype-at -- safe\n  return 'ð ®·'.at(-2) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n","<template>\n\n  <div>\n\n    <div class=\"page-container\">\n\n      <div class=\"page-section\">\n\n        <div class=\"flex justify-content-center mr-5 ml-5\">\n\n          <button @click=\"modalIsVisible = true\" class=\"button-line\">ADD TO ALBUM</button>\n\n          <select class=\"download pointer ml-1\" @change=\"download\" v-model=\"forDownload\">\n\n            <option disabled value=\"DOWNLOAD\">DOWNLOAD</option>\n            <option :value=\"[size]\">{{ size[0] + \" x \" + size[1] }}</option>\n            <option :value=\"[1920, 2400]\">1920 x 2400</option>\n            <option :value=\"[1280, 1600]\">1280 x 1600</option>\n            <option :value=\"[640, 800]\">640 x 800</option>\n          </select>\n        </div>\n\n        <div class=\"mt-5\">\n          <img class=\"details-photo\" :src=\"item.url\" :alt=\"'image ' + item.id\">\n        </div>\n\n        <div class=\"mt-5 photo-description\">\n          <h3 class=\"upload\">UPLOADED BY</h3>\n          <h2 class=\"mt-2\"> {{ item.author }} </h2>\n          <h5 class=\"mt-2 grey\">{{ formatDate  }}</h5>\n        </div>\n\n\n\n        <div class=\"mt-5\">\n          <button @click=\"$router.push('/gallery')\" class=\"button-line\">GO BACK</button>\n        </div>\n        <modal @close=\"modalIsVisible = false\" :visible=\"modalIsVisible\" :item=\"item\"></modal>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport moment from 'moment'\nimport Modal from \"@/components/Modal\";\n\nexport default {\n\n  name: \"DetailsPage\",\n  components:{\n    Modal\n  },\n  computed: {\n    //Note: Opening details from url without clicking on photo will not work since we do not have actual database\n    //and vuex is used and filled on click\n    //This could have been implemented, but would require filling the state with all items everytime new photos are fetched\n\n    ...mapGetters(\"gallery\", {item: \"selectedDetailedItem\"}),\n\n    size(){\n      let split = this.item.download_url.split(\"/\");\n      return [split.at(-1), split.at(-2)];\n    },\n\n    formatDate(){\n\n      return moment(this.item.upload_date).format(\"Do MMM YYYY\")\n    }\n  },\n\n  data(){\n\n    return {\n      forDownload: \"DOWNLOAD\",\n      modalIsVisible: false\n    }\n  },\n\n  methods:{\n    async download(){\n      let url = await this.getBase64Image(this.item.download_url, this.forDownload[0], this.forDownload[1]);\n      var a = document.createElement(\"a\"); //Create <a>\n      a.href = url; //Image Base64 Goes here\n      a.download = \"Image.png\"; //File name Here\n      a.click(); //Downloaded file\n    },\n\n    getBase64Image(url, width, height) {\n      return new Promise((resolve) => {\n        const img = new Image();\n        img.setAttribute('crossOrigin', 'anonymous');\n        img.src = url;\n        let iSizeWidth = width;\n        let iSizeHeight = height;\n\n        img.onload = () => {\n          const canvas = document.createElement(\"canvas\");\n\n          canvas.width = iSizeWidth;\n          canvas.height = iSizeHeight;\n          let ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0, iSizeWidth, iSizeHeight);\n          resolve(canvas.toDataURL('image/jpeg'))\n        }\n      });\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./DetailsPage.vue?vue&type=template&id=1d82ebee\"\nimport script from \"./DetailsPage.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/GalleryProject/GalleryProject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["$","toObject","lengthOfArrayLike","toIntegerOrInfinity","addToUnscopables","target","proto","at","index","O","this","len","relativeIndex","k","undefined","uncurryThis","requireObjectCoercible","toString","fails","charAt","FORCED","forced","S","length","class","_createElementVNode","disabled","value","_createElementBlock","onClick","$data","onChange","$options","$event","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","src","_ctx","url","alt","id","_hoisted_12","_toDisplayString","author","push","_createVNode","_component_modal","onClose","visible","item","name","components","Modal","computed","mapGetters","size","split","download_url","formatDate","moment","upload_date","format","data","forDownload","modalIsVisible","methods","async","getBase64Image","a","document","createElement","href","download","click","width","height","Promise","resolve","img","Image","setAttribute","iSizeWidth","iSizeHeight","onload","canvas","ctx","getContext","drawImage","toDataURL","__exports__","render"],"sourceRoot":""}